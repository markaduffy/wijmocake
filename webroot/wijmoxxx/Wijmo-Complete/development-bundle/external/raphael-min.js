/*!
 * Raphael 1.5.2 - JavaScript Vector Library
 *
 * Copyright (c) 2010 Dmitry Baranovskiy (http://raphaeljs.com)
 * Licensed under the MIT (http://raphaeljs.com/license.html) license.
 */
(function(){function a(){if(a.is(arguments[0],C)){for(var c=arguments[0],g=yb[s](a,c.splice(0,3+a.is(c[0],x))),h=g.set(),e=0,i=c[b];e<i;e++){var f=c[e]||{};yc[d](f.type)&&h[n](g[f.type]().attr(f))}return h}return yb[s](a,arguments)}a.version="1.5.2";var F=/[, ]+/,yc={circle:1,rect:1,path:1,ellipse:1,text:1,image:1},zc=/\{(\d+)\}/g,l="prototype",d="hasOwnProperty",f=document,O=window,tb={was:Object[l][d].call(O,"Raphael"),is:O.Raphael},hb=function(){this.customAttributes={}},p,e="appendChild",s="apply",r="concat",rb="createTouch"in f,g="",u=" ",j=String,q="split",Xb=("click dblclick mousedown mousemove mouseout mouseover mouseup touchstart touchmove touchend orientationchange touchcancel gesturestart gesturechange gestureend")[q](u),vb={mousedown:"touchstart",mousemove:"touchmove",mouseup:"touchend"},w="join",b="length",P=j[l].toLowerCase,i=Math,B=i.max,I=i.min,t=i.abs,o=i.pow,A=i.PI,x="number",Q="string",C="array",J="toString",L="fill",ic=Object[l][J],Hc={},n="push",ac=/^url\(['"]?([^\)]+?)['"]?\)$/i,lc=/^\s*((#[a-f\d]{6})|(#[a-f\d]{3})|rgba?\(\s*([\d\.]+%?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+(?:%?\s*,\s*[\d\.]+)?)%?\s*\)|hsba?\(\s*([\d\.]+(?:deg|\xb0|%)?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+(?:%?\s*,\s*[\d\.]+)?)%?\s*\)|hsla?\(\s*([\d\.]+(?:deg|\xb0|%)?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+(?:%?\s*,\s*[\d\.]+)?)%?\s*\))\s*$/i,Dc={NaN:1,Infinity:1,"-Infinity":1},wc=/^(?:cubic-)?bezier\(([^,]+),([^,]+),([^,]+),([^\)]+)\)/,v=i.round,E="setAttribute",h=parseFloat,M=parseInt,Bb=" progid:DXImageTransform.Microsoft",gb=j[l].toUpperCase,ab={blur:0,"clip-rect":"0 0 1e9 1e9",cursor:"default",cx:0,cy:0,fill:"#fff","fill-opacity":1,font:'10px "Arial"',"font-family":'"Arial"',"font-size":"10","font-style":"normal","font-weight":400,gradient:0,height:0,href:"http://raphaeljs.com/",opacity:1,path:"M0,0",r:0,rotation:0,rx:0,ry:0,scale:"1 1",src:"",stroke:"#000","stroke-dasharray":"","stroke-linecap":"butt","stroke-linejoin":"butt","stroke-miterlimit":0,"stroke-opacity":1,"stroke-width":1,target:"_blank","text-anchor":"middle",title:"Raphael",translation:"0 0",width:0,x:0,y:0},mb={along:"along",blur:x,"clip-rect":"csv",cx:x,cy:x,fill:"colour","fill-opacity":x,"font-size":x,height:x,opacity:x,path:"path",r:x,rotation:"csv",rx:x,ry:x,scale:"csv",stroke:"colour","stroke-opacity":x,"stroke-width":x,translation:"csv",width:x,x:x,y:x},y="replace",kc=/^(from|to|\d+%?)$/,sb=/\s*,\s*/,Ec={hs:1,rg:1},Fc=/,?([achlmqrstvxz]),?/gi,pc=/([achlmqstvz])[\s,]*((-?\d*\.?\d*(?:e[-+]?\d+)?\s*,?\s*)+)/ig,sc=/(-?\d*\.?\d*(?:e[-+]?\d+)?)\s*,?\s*/ig,Db=/^r(?:\(([^,]+?)\s*,\s*([^\)]+?)\))?/,tc=function(a,b){return a.key-b.key};a.type=O.SVGAngle||f.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure","1.1")?"SVG":"VML";if(a.type=="VML"){var Cb=f.createElement("div"),kb;Cb.innerHTML='<v:shape adj="1"/>';kb=Cb.firstChild;kb.style.behavior="url(#default#VML)";if(!(kb&&typeof kb.adj=="object"))return a.type=null;Cb=null}a.svg=!(a.vml=a.type=="VML");hb[l]=a[l];p=hb[l];a._id=0;a._oid=0;a.fn={};a.is=function(b,a){a=P.call(a);return a=="finite"?!Dc[d](+b):a=="null"&&b===null||a==typeof b||a=="object"&&b===Object(b)||a=="array"&&Array.isArray&&Array.isArray(b)||ic.call(b).slice(8,-1).toLowerCase()==a};a.angle=function(d,f,e,g,b,h){if(b==null){var c=d-e,j=f-g;return!c&&!j?0:((c<0)*180+i.atan(-j/-c)*180/A+360)%360}else return a.angle(d,f,b,h)-a.angle(e,g,b,h)};a.rad=function(a){return a%360*A/180};a.deg=function(a){return a*180/A%360};a.snapTo=function(b,d,c){c=a.is(c,"finite")?c:10;if(a.is(b,C)){var f=b.length;while(f--)if(t(b[f]-d)<=c)return b[f]}else{b=+b;var e=d%b;if(e<c)return d-e;if(e>b-c)return d-e+b}return d};function cb(){for(var a=[],b=0;b<32;b++)a[b]=(~~(i.random()*16))[J](16);a[12]=4;a[16]=(a[16]&3|8)[J](16);return"r-"+a[w]("")}a.setWindow=function(a){O=a;f=O.document};var ib=function(h){if(a.vml){var k=/^\s+|\s+$/g,c;try{var d=new ActiveXObject("htmlfile");d.write("<body>");d.close();c=d.body}catch(l){c=createPopup().document.body}var i=c.createTextRange();ib=K(function(b){try{c.style.color=j(b)[y](k,g);var a=i.queryCommandValue("ForeColor");a=(a&255)<<16|a&65280|(a&16711680)>>>16;return"#"+("000000"+a[J](16)).slice(-6)}catch(d){return"none"}})}else{var b=f.createElement("i");b.title="Rapha\u00ebl Colour Picker";b.style.display="none";f.body[e](b);ib=K(function(a){b.style.color=a;return f.defaultView.getComputedStyle(b,g).getPropertyValue("color")})}return ib(h)},Hb=function(){return"hsb("+[this.h,this.s,this.b]+")"},oc=function(){return"hsl("+[this.h,this.s,this.l]+")"},qc=function(){return this.hex};a.hsb2rgb=function(b,e,c,d){if(a.is(b,"object")&&"h"in b&&"s"in b&&"b"in b){c=b.b;e=b.s;b=b.h;d=b.o}return a.hsl2rgb(b,e,c/2,d)};a.hsl2rgb=function(c,g,d,k){if(a.is(c,"object")&&"h"in c&&"s"in c&&"l"in c){d=c.l;g=c.s;c=c.h}if(c>1||g>1||d>1){c/=360;g/=100;d/=100}var b={},j=["r","g","b"],i,h,e,n,m,l;if(!g)b={r:d,g:d,b:d};else{if(d<.5)i=d*(1+g);else i=d+g-d*g;h=2*d-i;for(var f=0;f<3;f++){e=c+1/3*-(f-1);e<0&&e++;e>1&&e--;if(e*6<1)b[j[f]]=h+(i-h)*6*e;else if(e*2<1)b[j[f]]=i;else if(e*3<2)b[j[f]]=h+(i-h)*(2/3-e)*6;else b[j[f]]=h}}b.r*=255;b.g*=255;b.b*=255;b.hex="#"+(16777216|b.b|b.g<<8|b.r<<16).toString(16).slice(1);a.is(k,"finite")&&(b.opacity=k);b.toString=qc;return b};a.rgb2hsb=function(b,c,e){if(c==null&&a.is(b,"object")&&"r"in b&&"g"in b&&"b"in b){e=b.b;c=b.g;b=b.r}if(c==null&&a.is(b,Q)){var h=a.getRGB(b);b=h.r;c=h.g;e=h.b}if(b>1||c>1||e>1){b/=255;c/=255;e/=255}var f=B(b,c,e),j=I(b,c,e),d,i,k=f;if(j==f)return{h:0,s:0,b:f,toString:Hb};else{var g=f-j;i=g/f;if(b==f)d=(c-e)/g;else if(c==f)d=2+(e-b)/g;else d=4+(b-c)/g;d/=6;d<0&&d++;d>1&&d--}return{h:d,s:i,b:k,toString:Hb}};a.rgb2hsl=function(b,c,e){if(c==null&&a.is(b,"object")&&"r"in b&&"g"in b&&"b"in b){e=b.b;c=b.g;b=b.r}if(c==null&&a.is(b,Q)){var j=a.getRGB(b);b=j.r;c=j.g;e=j.b}if(b>1||c>1||e>1){b/=255;c/=255;e/=255}var f=B(b,c,e),h=I(b,c,e),d,l,k=(f+h)/2,i;if(h==f)i={h:0,s:0,l:k};else{var g=f-h;l=k<.5?g/(f+h):g/(2-f-h);if(b==f)d=(c-e)/g;else if(c==f)d=2+(e-b)/g;else d=4+(b-c)/g;d/=6;d<0&&d++;d>1&&d--;i={h:d,s:l,l:k}}i.toString=oc;return i};a._path2string=function(){return this.join(",")[y](Fc,"$1")};function K(f,e,c){function a(){var j=Array[l].slice.call(arguments,0),h=j[w]("\u25ba"),g=a.cache=a.cache||{},i=a.count=a.count||[];if(g[d](h))return c?c(g[h]):g[h];i[b]>=1e3&&delete g[i.shift()];i[n](h);g[h]=f[s](e,j);return c?c(g[h]):g[h]}return a}a.getRGB=K(function(k){if(!k||!!((k=j(k)).indexOf("-")+1))return{r:-1,g:-1,b:-1,hex:"none",error:1};if(k=="none")return{r:-1,g:-1,b:-1,hex:"none"};!(Ec[d](k.toLowerCase().substring(0,2))||k.charAt()=="#")&&(k=ib(k));var m,e,f,g,i,l,b,c=k.match(lc);if(c){if(c[2]){g=M(c[2].substring(5),16);f=M(c[2].substring(3,5),16);e=M(c[2].substring(1,3),16)}if(c[3]){g=M((l=c[3].charAt(3))+l,16);f=M((l=c[3].charAt(2))+l,16);e=M((l=c[3].charAt(1))+l,16)}if(c[4]){b=c[4][q](sb);e=h(b[0]);b[0].slice(-1)=="%"&&(e*=2.55);f=h(b[1]);b[1].slice(-1)=="%"&&(f*=2.55);g=h(b[2]);b[2].slice(-1)=="%"&&(g*=2.55);c[1].toLowerCase().slice(0,4)=="rgba"&&(i=h(b[3]));b[3]&&b[3].slice(-1)=="%"&&(i/=100)}if(c[5]){b=c[5][q](sb);e=h(b[0]);b[0].slice(-1)=="%"&&(e*=2.55);f=h(b[1]);b[1].slice(-1)=="%"&&(f*=2.55);g=h(b[2]);b[2].slice(-1)=="%"&&(g*=2.55);(b[0].slice(-3)=="deg"||b[0].slice(-1)=="\u00b0")&&(e/=360);c[1].toLowerCase().slice(0,4)=="hsba"&&(i=h(b[3]));b[3]&&b[3].slice(-1)=="%"&&(i/=100);return a.hsb2rgb(e,f,g,i)}if(c[6]){b=c[6][q](sb);e=h(b[0]);b[0].slice(-1)=="%"&&(e*=2.55);f=h(b[1]);b[1].slice(-1)=="%"&&(f*=2.55);g=h(b[2]);b[2].slice(-1)=="%"&&(g*=2.55);(b[0].slice(-3)=="deg"||b[0].slice(-1)=="\u00b0")&&(e/=360);c[1].toLowerCase().slice(0,4)=="hsla"&&(i=h(b[3]));b[3]&&b[3].slice(-1)=="%"&&(i/=100);return a.hsl2rgb(e,f,g,i)}c={r:e,g:f,b:g};c.hex="#"+(16777216|g|f<<8|e<<16).toString(16).slice(1);a.is(i,"finite")&&(c.opacity=i);return c}return{r:-1,g:-1,b:-1,hex:"none",error:1}},a);a.getColor=function(b){var a=this.getColor.start=this.getColor.start||{h:0,s:1,b:b||.75},c=this.hsb2rgb(a.h,a.s,a.b);a.h+=.075;if(a.h>1){a.h=0;a.s-=.2;a.s<=0&&(this.getColor.start={h:0,s:1,b:a.b})}return c.hex};a.getColor.reset=function(){delete this.start};a.parsePathString=K(function(d){if(!d)return null;var e={a:7,c:6,h:1,l:2,m:2,q:4,s:4,t:2,v:1,z:0},c=[];if(a.is(d,C)&&a.is(d[0],C))c=eb(d);!c[b]&&j(d)[y](pc,function(h,f,g){var a=[],d=P.call(f);g[y](sc,function(c,b){b&&a[n](+b)});if(d=="m"&&a[b]>2){c[n](([f])[r](a.splice(0,2)));d="l";f=f=="m"?"l":"L"}while(a[b]>=e[d]){c[n](([f])[r](a.splice(0,e[d])));if(!e[d])break}});c[J]=a._path2string;return c});a.findDotsAtSegment=function(g,h,b,c,e,f,j,k,a){var d=1-a,v=o(d,3)*g+o(d,2)*3*a*b+d*3*a*a*e+o(a,3)*j,w=o(d,3)*h+o(d,2)*3*a*c+d*3*a*a*f+o(a,3)*k,l=g+2*a*(b-g)+a*a*(e-2*b+g),m=h+2*a*(c-h)+a*a*(f-2*c+h),n=b+2*a*(e-b)+a*a*(j-2*e+b),p=c+2*a*(f-c)+a*a*(k-2*f+c),r=(1-a)*g+a*b,s=(1-a)*h+a*c,t=(1-a)*e+a*j,u=(1-a)*f+a*k,q=90-i.atan((l-n)/(m-p))*180/A;(l>n||m<p)&&(q+=180);return{x:v,y:w,m:{x:l,y:m},n:{x:n,y:p},start:{x:r,y:s},end:{x:t,y:u},alpha:q}};var bb=K(function(c){if(!c)return{x:0,y:0,width:0,height:0};c=db(c);for(var g=0,h=0,d=[],e=[],a,i=0,l=c[b];i<l;i++){a=c[i];if(a[0]=="M"){g=a[1];h=a[2];d[n](g);e[n](h)}else{var f=xc(g,h,a[1],a[2],a[3],a[4],a[5],a[6]);d=d[r](f.min.x,f.max.x);e=e[r](f.min.y,f.max.y);g=a[5];h=a[6]}}var j=I[s](0,d),k=I[s](0,e);return{x:j,y:k,width:B[s](0,d)-j,height:B[s](0,e)-k}}),eb=function(c){var e=[];if(!a.is(c,C)||!a.is(c&&c[0],C))c=a.parsePathString(c);for(var d=0,g=c[b];d<g;d++){e[d]=[];for(var f=0,h=c[d][b];f<h;f++)e[d][f]=c[d][f]}e[J]=a._path2string;return e},ob=K(function(g){if(!a.is(g,C)||!a.is(g&&g[0],C))g=a.parsePathString(g);var d=[],i=0,h=0,l=0,m=0,p=0;if(g[0][0]=="M"){i=g[0][1];h=g[0][2];l=i;m=h;p++;d[n](["M",i,h])}for(var e=p,q=g[b];e<q;e++){var f=d[e]=[],c=g[e];if(c[0]!=P.call(c[0])){f[0]=P.call(c[0]);switch(f[0]){case"a":f[1]=c[1];f[2]=c[2];f[3]=c[3];f[4]=c[4];f[5]=c[5];f[6]=+(c[6]-i).toFixed(3);f[7]=+(c[7]-h).toFixed(3);break;case"v":f[1]=+(c[1]-h).toFixed(3);break;case"m":l=c[1];m=c[2];default:for(var j=1,r=c[b];j<r;j++)f[j]=+(c[j]-(j%2?i:h)).toFixed(3)}}else{f=d[e]=[];if(c[0]=="m"){l=c[1]+i;m=c[2]+h}for(var o=0,s=c[b];o<s;o++)d[e][o]=c[o]}var k=d[e][b];switch(d[e][0]){case"z":i=l;h=m;break;case"h":i+=+d[e][k-1];break;case"v":h+=+d[e][k-1];break;default:i+=+d[e][k-2];h+=+d[e][k-1]}}d[J]=a._path2string;return d},0,eb),U=K(function(g){if(!a.is(g,C)||!a.is(g&&g[0],C))g=a.parsePathString(g);var e=[],h=0,i=0,k=0,l=0,n=0;if(g[0][0]=="M"){h=+g[0][1];i=+g[0][2];k=h;l=i;n++;e[0]=["M",h,i]}for(var f=n,o=g[b];f<o;f++){var d=e[f]=[],c=g[f];if(c[0]!=gb.call(c[0])){d[0]=gb.call(c[0]);switch(d[0]){case"A":d[1]=c[1];d[2]=c[2];d[3]=c[3];d[4]=c[4];d[5]=c[5];d[6]=+(c[6]+h);d[7]=+(c[7]+i);break;case"V":d[1]=+c[1]+i;break;case"H":d[1]=+c[1]+h;break;case"M":k=+c[1]+h;l=+c[2]+i;default:for(var j=1,p=c[b];j<p;j++)d[j]=+c[j]+(j%2?h:i)}}else for(var m=0,q=c[b];m<q;m++)e[f][m]=c[m];switch(d[0]){case"Z":h=k;i=l;break;case"H":h=d[1];break;case"V":i=d[1];break;case"M":k=e[f][e[f][b]-2];l=e[f][e[f][b]-1];default:h=e[f][e[f][b]-2];i=e[f][e[f][b]-1]}}e[J]=a._path2string;return e},null,eb),jb=function(c,d,a,b){return[c,d,a,b,a,b]},dc=function(g,h,c,d,e,f){var a=1/3,b=2/3;return[a*g+b*c,a*h+b*d,a*e+b*c,a*f+b*d,e,f]},bc=function(k,l,e,d,B,Q,u,f,g,o){var H=A*120/180,C=A/180*(+B||0),h=[],s,z=K(function(b,c,a){var d=b*i.cos(a)-c*i.sin(a),e=b*i.sin(a)+c*i.cos(a);return{x:d,y:e}});if(!o){s=z(k,l,-C);k=s.x;l=s.y;s=z(f,g,-C);f=s.x;g=s.y;var Z=i.cos(A/180*B),ab=i.sin(A/180*B),m=(k-f)/2,n=(l-g)/2,y=m*m/(e*e)+n*n/(d*d);if(y>1){y=i.sqrt(y);e=y*e;d=y*d}var D=e*e,E=d*d,O=(Q==u?-1:1)*i.sqrt(t((D*E-D*n*n-E*m*m)/(D*n*n+E*m*m))),v=O*e*n/d+(k+f)/2,x=O*-d*m/e+(l+g)/2,c=i.asin(((l-x)/d).toFixed(9)),a=i.asin(((g-x)/d).toFixed(9));c=k<v?A-c:c;a=f<v?A-a:a;c<0&&(c=A*2+c);a<0&&(a=A*2+a);if(u&&c>a)c=c-A*2;if(!u&&a>c)a=a-A*2}else{c=o[0];a=o[1];v=o[2];x=o[3]}var F=a-c;if(t(F)>H){var R=a,S=f,T=g;a=c+H*(u&&a>c?1:-1);f=v+e*i.cos(a);g=x+d*i.sin(a);h=bc(f,g,e,d,B,0,u,S,T,[a,R,v,x])}F=a-c;var U=i.cos(c),X=i.sin(c),V=i.cos(a),Y=i.sin(a),P=i.tan(F/4),I=4/3*e*P,J=4/3*d*P,L=[k,l],p=[k+I*X,l-J*U],M=[f+I*Y,g-J*V],N=[f,g];p[0]=2*L[0]-p[0];p[1]=2*L[1]-p[1];if(o)return([p,M,N])[r](h);else{h=([p,M,N])[r](h)[w]()[q](",");for(var G=[],j=0,W=h[b];j<W;j++)G[j]=j%2?z(h[j-1],h[j],C).y:z(h[j],h[j+1],C).x;return G}},Y=function(g,h,c,d,e,f,i,j,a){var b=1-a;return{x:o(b,3)*g+o(b,2)*3*a*c+b*3*a*a*e+o(a,3)*i,y:o(b,3)*h+o(b,2)*3*a*d+b*3*a*a*f+o(a,3)*j}},xc=K(function(h,j,e,f,k,l,m,o){var g=k-2*e+h-(m-2*k+e),a=2*(e-h)-2*(k-e),r=h-e,c=(-a+i.sqrt(a*a-4*g*r))/2/g,d=(-a-i.sqrt(a*a-4*g*r))/2/g,q=[j,o],p=[h,m],b;t(c)>"1e12"&&(c=.5);t(d)>"1e12"&&(d=.5);if(c>0&&c<1){b=Y(h,j,e,f,k,l,m,o,c);p[n](b.x);q[n](b.y)}if(d>0&&d<1){b=Y(h,j,e,f,k,l,m,o,d);p[n](b.x);q[n](b.y)}g=l-2*f+j-(o-2*l+f);a=2*(f-j)-2*(l-f);r=j-f;c=(-a+i.sqrt(a*a-4*g*r))/2/g;d=(-a-i.sqrt(a*a-4*g*r))/2/g;t(c)>"1e12"&&(c=.5);t(d)>"1e12"&&(d=.5);if(c>0&&c<1){b=Y(h,j,e,f,k,l,m,o,c);p[n](b.x);q[n](b.y)}if(d>0&&d<1){b=Y(h,j,e,f,k,l,m,o,d);p[n](b.x);q[n](b.y)}return{min:{x:I[s](0,p),y:I[s](0,q)},max:{x:B[s](0,p),y:B[s](0,q)}}}),db=K(function(q,o){for(var d=U(q),a=o&&U(o),f={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},e={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},m=function(b,a){var c,d;if(!b)return["C",a.x,a.y,a.x,a.y,a.x,a.y];!(b[0]in{T:1,Q:1})&&(a.qx=a.qy=null);switch(b[0]){case"M":a.X=b[1];a.Y=b[2];break;case"A":b=(["C"])[r](bc[s](0,([a.x,a.y])[r](b.slice(1))));break;case"S":c=a.x+(a.x-(a.bx||a.x));d=a.y+(a.y-(a.by||a.y));b=(["C",c,d])[r](b.slice(1));break;case"T":a.qx=a.x+(a.x-(a.qx||a.x));a.qy=a.y+(a.y-(a.qy||a.y));b=(["C"])[r](dc(a.x,a.y,a.qx,a.qy,b[1],b[2]));break;case"Q":a.qx=b[1];a.qy=b[2];b=(["C"])[r](dc(a.x,a.y,b[1],b[2],b[3],b[4]));break;case"L":b=(["C"])[r](jb(a.x,a.y,b[1],b[2]));break;case"H":b=(["C"])[r](jb(a.x,a.y,b[1],a.y));break;case"V":b=(["C"])[r](jb(a.x,a.y,a.x,b[1]));break;case"Z":b=(["C"])[r](jb(a.x,a.y,a.X,a.Y))}return b},n=function(c,e){if(c[e][b]>7){c[e].shift();var f=c[e];while(f[b])c.splice(e++,0,(["C"])[r](f.splice(0,6)));c.splice(e,1);l=B(d[b],a&&a[b]||0)}},p=function(e,g,f,h,c){if(e&&g&&e[c][0]=="M"&&g[c][0]!="M"){g.splice(c,0,["M",h.x,h.y]);f.bx=0;f.by=0;f.x=e[c][1];f.y=e[c][2];l=B(d[b],a&&a[b]||0)}},c=0,l=B(d[b],a&&a[b]||0);c<l;c++){d[c]=m(d[c],f);n(d,c);a&&(a[c]=m(a[c],e));a&&n(a,c);p(d,a,f,e,c);p(a,d,e,f,c);var i=d[c],g=a&&a[c],k=i[b],j=a&&g[b];f.x=i[k-2];f.y=i[k-1];f.bx=h(i[k-4])||f.x;f.by=h(i[k-3])||f.y;e.bx=a&&(h(g[j-4])||e.x);e.by=a&&(h(g[j-3])||e.y);e.x=a&&g[j-2];e.y=a&&g[j-1]}return a?[d,a]:d},null,eb),Lb=K(function(l){for(var d=[],c=0,i=l[b];c<i;c++){var f={},k=l[c].match(/^([^:]*):?([\d\.]*)/);f.color=a.getRGB(k[1]);if(f.color.error)return null;f.color=f.color.hex;k[2]&&(f.offset=k[2]+"%");d[n](f)}for(c=1,i=d[b]-1;c<i;c++)if(!d[c].offset){for(var j=h(d[c-1].offset||0),g=0,e=c+1;e<i;e++)if(d[e].offset){g=d[e].offset;break}if(!g){g=100;e=i}g=h(g);for(var m=(g-j)/(e-c+1);c<e;c++){j+=m;d[c].offset=j+"%"}}return d}),Fb=function(c,d,e,g){var b;if(a.is(c,Q)||a.is(c,"object")){b=a.is(c,Q)?f.getElementById(c):c;if(b.tagName)return d==null?{container:b,width:b.style.pixelWidth||b.offsetWidth,height:b.style.pixelHeight||b.offsetHeight}:{container:b,width:d,height:e}}else return{container:1,x:c,y:d,width:e,height:g}},wb=function(b,c){var e=this;for(var a in c)if(c[d](a)&&!(a in b))switch(typeof c[a]){case"function":(function(c){b[a]=b===e?c:function(){return c[s](e,arguments)}})(c[a]);break;case"object":b[a]=b[a]||{};wb.call(this,b[a],c[a]);break;default:b[a]=c[a]}},R=function(a,b){a==b.top&&(b.top=a.prev);a==b.bottom&&(b.bottom=a.next);a.next&&(a.next.prev=a.prev);a.prev&&(a.prev.next=a.next)},Vb=function(a,b){if(b.top===a)return;R(a,b);a.next=null;a.prev=b.top;b.top.next=a;b.top=a},Yb=function(a,b){if(b.bottom===a)return;R(a,b);a.next=b.bottom;a.prev=null;b.bottom.prev=a;b.bottom=a},Ib=function(b,a,c){R(b,c);a==c.top&&(c.top=b);a.next&&(a.next.prev=b);b.next=a.next;b.prev=a;a.next=b},Gb=function(b,a,c){R(b,c);a==c.bottom&&(c.bottom=b);a.prev&&(a.prev.next=b);b.prev=a.prev;a.prev=b;b.next=a},Qb=function(a){return function(){throw new Error("Rapha\u00ebl: you are calling to method \u201c"+a+"\u201d of removed object");}};a.pathToRelative=ob;if(a.svg){p.svgns="http://www.w3.org/2000/svg";p.xlink="http://www.w3.org/1999/xlink";v=function(a){return+a+(~~a===a)*.5};var c=function(a,b){if(b)for(var c in b)b[d](c)&&a[E](c,j(b[c]));else{a=f.createElementNS(p.svgns,a);a.style.webkitTapHighlightColor="rgba(0,0,0,0)";return a}};a[J]=function(){return"Your browser supports SVG.\nYou are running Rapha\u00ebl "+this.version};var Sb=function(f,a){var d=c("path");a.canvas&&a.canvas[e](d);var b=new m(d,a);b.type="path";N(b,{fill:"none",stroke:"#000",path:f});return b},T=function(v,k,C){var r="linear",s=.5,d=.5,w=v.style;k=j(k)[y](Db,function(e,b,c){r="radial";if(b&&c){s=h(b);d=h(c);var a=(d>.5)*2-1;o(s-.5,2)+o(d-.5,2)>.25&&(d=i.sqrt(.25-o(s-.5,2))*a+.5)&&d!=.5&&(d=d.toFixed(5)-1e-5*a)}return g});k=k[q](/\s*\-\s*/);if(r=="linear"){var m=k.shift();m=-h(m);if(isNaN(m))return null;var a=[0,0,i.cos(m*A/180),i.sin(m*A/180)],z=1/(B(t(a[2]),t(a[3]))||1);a[2]*=z;a[3]*=z;if(a[2]<0){a[0]=-a[2];a[2]=0}if(a[3]<0){a[1]=-a[3];a[3]=0}}var n=Lb(k);if(!n)return null;var u=v.getAttribute(L);u=u.match(/^url\(#(.*)\)$/);u&&C.defs.removeChild(f.getElementById(u[1]));var p=c(r+"Gradient");p.id=cb();c(p,r=="radial"?{fx:s,fy:d}:{x1:a[0],y1:a[1],x2:a[2],y2:a[3]});C.defs[e](p);for(var l=0,D=n[b];l<D;l++){var x=c("stop");c(x,{offset:n[l].offset?n[l].offset:!l?"0%":"100%","stop-color":n[l].color||"#fff"});p[e](x)}c(v,{fill:"url(#"+p.id+")",opacity:1,"fill-opacity":1});w.fill=g;w.opacity=1;w.fillOpacity=1;return 1},pb=function(d){var b=d.getBBox();c(d.pattern,{patternTransform:a.format("translate({0},{1})",b.x,b.y)})},N=function(k,t){var N={"":[0],none:[0],"-":[3,1],".":[1,1],"-.":[3,1,1,1],"-..":[3,1,1,1,1,1],". ":[1,3],"- ":[4,3],"--":[8,3],"- .":[4,3,1,3],"--.":[8,3,1,3],"--..":[8,3,1,3,1,3]},l=k.node,n=k.attrs,x=k.rotate(),I=function(g,a){a=N[P.call(a)];if(a){var e=g.attrs["stroke-width"]||"1",h=({round:e,square:e,butt:0})[g.attrs["stroke-linecap"]||t["stroke-linecap"]]||0,f=[],d=a[b];while(d--)f[d]=a[d]*e+(d%2?1:-1)*h;c(l,{"stroke-dasharray":f[w](",")})}};t[d]("rotation")&&(x=t.rotation);var p=j(x)[q](F);if(!(p.length-1))p=null;else{p[1]=+p[1];p[2]=+p[2]}h(x)&&k.rotate(0,true);for(var m in t)if(t[d](m)){if(!ab[d](m))continue;var i=t[m];n[m]=i;switch(m){case"blur":k.blur(i);break;case"rotation":k.rotate(i,true);break;case"href":case"title":case"target":var z=l.parentNode;if(P.call(z.tagName)!="a"){var G=c("a");z.insertBefore(G,l);G[e](l);z=G}if(m=="target"&&i=="blank")z.setAttributeNS(k.paper.xlink,"show","new");else z.setAttributeNS(k.paper.xlink,m,i);break;case"cursor":l.style.cursor=i;break;case"clip-rect":var v=j(i)[q](F);if(v[b]==4){k.clip&&k.clip.parentNode.parentNode.removeChild(k.clip.parentNode);var r=c("clipPath"),H=c("rect");r.id=cb();c(H,{x:v[0],y:v[1],width:v[2],height:v[3]});r[e](H);k.paper.defs[e](r);c(l,{"clip-path":"url(#"+r.id+")"});k.clip=H}if(!i){var D=f.getElementById(l.getAttribute("clip-path")[y](/(^url\(#|\)$)/g,g));D&&D.parentNode.removeChild(D);c(l,{"clip-path":g});delete k.clip}break;case"path":k.type=="path"&&c(l,{d:i?n.path=U(i):"M0,0"});break;case"width":l[E](m,i);if(n.fx){m="x";i=n.x}else break;case"x":if(n.fx)i=-n.x-(n.width||0);case"rx":if(m=="rx"&&k.type=="rect")break;case"cx":p&&(m=="x"||m=="cx")&&(p[1]+=i-n[m]);l[E](m,i);k.pattern&&pb(k);break;case"height":l[E](m,i);if(n.fy){m="y";i=n.y}else break;case"y":if(n.fy)i=-n.y-(n.height||0);case"ry":if(m=="ry"&&k.type=="rect")break;case"cy":p&&(m=="y"||m=="cy")&&(p[2]+=i-n[m]);l[E](m,i);k.pattern&&pb(k);break;case"r":if(k.type=="rect")c(l,{rx:i,ry:i});else l[E](m,i);break;case"src":k.type=="image"&&l.setAttributeNS(k.paper.xlink,"href",i);break;case"stroke-width":l.style.strokeWidth=i;l[E](m,i);n["stroke-dasharray"]&&I(k,n["stroke-dasharray"]);break;case"stroke-dasharray":I(k,i);break;case"translation":var o=j(i)[q](F);o[0]=+o[0]||0;o[1]=+o[1]||0;if(p){p[1]+=o[0];p[2]+=o[1]}fb.call(k,o[0],o[1]);break;case"scale":o=j(i)[q](F);k.scale(+o[0]||1,+o[1]||+o[0]||1,isNaN(h(o[2]))?null:+o[2],isNaN(h(o[3]))?null:+o[3]);break;case L:var C=j(i).match(ac);if(C){r=c("pattern");var B=c("image");r.id=cb();c(r,{x:0,y:0,patternUnits:"userSpaceOnUse",height:1,width:1});c(B,{x:0,y:0});B.setAttributeNS(k.paper.xlink,"href",C[1]);r[e](B);var A=f.createElement("img");A.style.cssText="position:absolute;left:-9999em;top-9999em";A.onload=function(){c(r,{width:this.offsetWidth,height:this.offsetHeight});c(B,{width:this.offsetWidth,height:this.offsetHeight});f.body.removeChild(this);k.paper.safari()};f.body[e](A);A.src=C[1];k.paper.defs[e](r);l.style.fill="url(#"+r.id+")";c(l,{fill:"url(#"+r.id+")"});k.pattern=r;k.pattern&&pb(k);break}var s=a.getRGB(i);if(!s.error){delete t.gradient;delete n.gradient;!a.is(n.opacity,"undefined")&&a.is(t.opacity,"undefined")&&c(l,{opacity:n.opacity});!a.is(n["fill-opacity"],"undefined")&&a.is(t["fill-opacity"],"undefined")&&c(l,{"fill-opacity":n["fill-opacity"]})}else if((({circle:1,ellipse:1})[d](k.type)||j(i).charAt()!="r")&&T(l,i,k.paper)){n.gradient=i;n.fill="none";break}s[d]("opacity")&&c(l,{"fill-opacity":s.opacity>1?s.opacity/100:s.opacity});case"stroke":s=a.getRGB(i);l[E](m,s.hex);m=="stroke"&&s[d]("opacity")&&c(l,{"stroke-opacity":s.opacity>1?s.opacity/100:s.opacity});break;case"gradient":(({circle:1,ellipse:1})[d](k.type)||j(i).charAt()!="r")&&T(l,i,k.paper);break;case"opacity":n.gradient&&!n[d]("stroke-opacity")&&c(l,{"stroke-opacity":i>1?i/100:i});case"fill-opacity":if(n.gradient){var J=f.getElementById(l.getAttribute(L)[y](/^url\(#|\)$/g,g));if(J){var K=J.getElementsByTagName("stop");K[K[b]-1][E]("stop-opacity",i)}break}default:m=="font-size"&&(i=M(i,10)+"px");var O=m[y](/(\-.)/g,function(a){return gb.call(a.substring(1))});l.style[O]=i;l[E](m,i)}}Bc(k,t);if(p)k.rotate(p.join(u));else h(x)&&k.rotate(x,true)},Pb=1.2,Bc=function(n,k){if(n.type!="text"||!(k[d]("text")||k[d]("font")||k[d]("font-size")||k[d]("x")||k[d]("y")))return;var m=n.attrs,i=n.node,s=i.firstChild?M(f.defaultView.getComputedStyle(i.firstChild,g).getPropertyValue("font-size"),10):10;if(k[d]("text")){m.text=k.text;while(i.firstChild)i.removeChild(i.firstChild);for(var l=j(k.text)[q]("\n"),h=0,r=l[b];h<r;h++)if(l[h]){var o=c("tspan");h&&c(o,{dy:s*Pb,x:m.x});o[e](f.createTextNode(l[h]));i[e](o)}}else{l=i.getElementsByTagName("tspan");for(h=0,r=l[b];h<r;h++)h&&c(l[h],{dy:s*Pb,x:m.x})}c(i,{y:m.y});var t=n.getBBox(),p=m.y-(t.y+t.height/2);p&&a.is(p,"finite")&&c(i,{y:m.y+p})},m=function(c,b){var d=0,e=0;this[0]=c;this.id=a._oid++;this.node=c;c.raphael=this;this.paper=b;this.attrs=this.attrs||{};this.transformations=[];this._={tx:0,ty:0,rt:{deg:0,cx:0,cy:0},sx:1,sy:1};!b.bottom&&(b.bottom=this);this.prev=b.top;b.top&&(b.top.next=this);b.top=this;this.next=null},k=m[l];m[l].rotate=function(d,e,f){if(this.removed)return this;if(d==null)return this._.rt.cx?([this._.rt.deg,this._.rt.cx,this._.rt.cy])[w](u):this._.rt.deg;var i=this.getBBox();d=j(d)[q](F);if(d[b]-1){e=h(d[1]);f=h(d[2])}d=h(d[0]);if(e!=null&&e!==false)this._.rt.deg=d;else this._.rt.deg+=d;f==null&&(e=null);this._.rt.cx=e;this._.rt.cy=f;e=e==null?i.x+i.width/2:e;f=f==null?i.y+i.height/2:f;if(this._.rt.deg){this.transformations[0]=a.format("rotate({0} {1} {2})",this._.rt.deg,e,f);this.clip&&c(this.clip,{transform:a.format("rotate({0} {1} {2})",-this._.rt.deg,e,f)})}else{this.transformations[0]=g;this.clip&&c(this.clip,{transform:g})}c(this.node,{transform:this.transformations[w](u)});return this};m[l].hide=function(){!this.removed&&(this.node.style.display="none");return this};m[l].show=function(){!this.removed&&(this.node.style.display="");return this};m[l].remove=function(){if(this.removed)return;R(this,this.paper);this.node.parentNode.removeChild(this.node);for(var a in this)delete this[a];this.removed=true};m[l].getBBox=function(){if(this.removed)return this;if(this.type=="path")return bb(this.attrs.path);if(this.node.style.display=="none"){this.show();var d=true}var a={};try{a=this.node.getBBox()}catch(f){}finally{a=a||{}}if(this.type=="text"){a={x:a.x,y:Infinity,width:0,height:0};for(var c=0,e=this.node.getNumberOfChars();c<e;c++){var b=this.node.getExtentOfChar(c);b.y<a.y&&(a.y=b.y);b.y+b.height-a.y>a.height&&(a.height=b.y+b.height-a.y);b.x+b.width-a.x>a.width&&(a.width=b.x+b.width-a.x)}}d&&this.hide();return a};m[l].attr=function(b,g){if(this.removed)return this;if(b==null){var c={};for(var k in this.attrs)if(this.attrs[d](k))c[k]=this.attrs[k];this._.rt.deg&&(c.rotation=this.rotate());(this._.sx!=1||this._.sy!=1)&&(c.scale=this.scale());c.gradient&&c.fill=="none"&&(c.fill=c.gradient)&&delete c.gradient;return c}if(g==null&&a.is(b,Q))return b=="translation"?fb.call(this):b=="rotation"?this.rotate():b=="scale"?this.scale():b==L&&this.attrs.fill=="none"&&this.attrs.gradient?this.attrs.gradient:this.attrs[b];if(g==null&&a.is(b,C)){for(var l={},h=0,m=b.length;h<m;h++)l[b[h]]=this.attr(b[h]);return l}if(g!=null){var e={};e[b]=g}else if(b!=null&&a.is(b,"object"))e=b;for(var f in this.paper.customAttributes)if(this.paper.customAttributes[d](f)&&e[d](f)&&a.is(this.paper.customAttributes[f],"function")){var j=this.paper.customAttributes[f].apply(this,([])[r](e[f]));this.attrs[f]=e[f];for(var i in j)if(j[d](i))e[i]=j[i]}N(this,e);return this};m[l].toFront=function(){if(this.removed)return this;this.node.parentNode[e](this.node);var a=this.paper;a.top!=this&&Vb(this,a);return this};m[l].toBack=function(){if(this.removed)return this;if(this.node.parentNode.firstChild!=this.node){this.node.parentNode.insertBefore(this.node,this.node.parentNode.firstChild);Yb(this,this.paper);var a=this.paper}return this};m[l].insertAfter=function(a){if(this.removed)return this;var b=a.node||a[a.length-1].node;if(b.nextSibling)b.parentNode.insertBefore(this.node,b.nextSibling);else b.parentNode[e](this.node);Ib(this,a,this.paper);return this};m[l].insertBefore=function(a){if(this.removed)return this;var b=a.node||a[0].node;b.parentNode.insertBefore(this.node,b);Gb(this,a,this.paper);return this};m[l].blur=function(d){var a=this;if(+d!==0){var b=c("filter"),e=c("feGaussianBlur");a.attrs.blur=d;b.id=cb();c(e,{stdDeviation:+d||1.5});b.appendChild(e);a.paper.defs.appendChild(b);a._blur=b;c(a.node,{filter:"url(#"+b.id+")"})}else{if(a._blur){a._blur.parentNode.removeChild(a._blur);delete a._blur;delete a.attrs.blur}a.node.removeAttribute("filter")}};var Mb=function(b,g,h,f){var d=c("circle");b.canvas&&b.canvas[e](d);var a=new m(d,b);a.attrs={cx:g,cy:h,r:f,fill:"none",stroke:"#000"};a.type="circle";c(d,a.attrs);return a},Tb=function(b,i,j,h,g,f){var d=c("rect");b.canvas&&b.canvas[e](d);var a=new m(d,b);a.attrs={x:i,y:j,width:h,height:g,r:f||0,rx:f||0,ry:f||0,fill:"none",stroke:"#000"};a.type="rect";c(d,a.attrs);return a},Jb=function(b,h,i,f,g){var d=c("ellipse");b.canvas&&b.canvas[e](d);var a=new m(d,b);a.attrs={cx:h,cy:i,rx:f,ry:g,fill:"none",stroke:"#000"};a.type="ellipse";c(d,a.attrs);return a},Ob=function(a,f,i,j,h,g){var b=c("image");c(b,{x:i,y:j,width:h,height:g,preserveAspectRatio:"none"});b.setAttributeNS(a.xlink,"href",f);a.canvas&&a.canvas[e](b);var d=new m(b,a);d.attrs={x:i,y:j,width:h,height:g,src:f};d.type="image";return d},Ub=function(b,f,g,h){var d=c("text");c(d,{x:f,y:g,"text-anchor":"middle"});b.canvas&&b.canvas[e](d);var a=new m(d,b);a.attrs={x:f,y:g,"text-anchor":"middle",text:h,font:ab.font,stroke:"none",fill:"#000"};a.type="text";N(a,a.attrs);return a},Rb=function(b,a){this.width=b||this.width;this.height=a||this.height;this.canvas[E]("width",this.width);this.canvas[E]("height",this.height);return this},yb=function(){var g=Fb[s](0,arguments),b=g&&g.container,j=g.x,k=g.y,i=g.width,h=g.height;if(!b)throw new Error("SVG container not found.");var d=c("svg");j=j||0;k=k||0;i=i||512;h=h||342;c(d,{xmlns:"http://www.w3.org/2000/svg",version:1.1,width:i,height:h});if(b==1){d.style.cssText="position:absolute;left:"+j+"px;top:"+k+"px";f.body[e](d)}else if(b.firstChild)b.insertBefore(d,b.firstChild);else b[e](d);b=new hb;b.width=i;b.height=h;b.canvas=d;wb.call(b,b,a.fn);b.clear();return b};p.clear=function(){var a=this.canvas;while(a.firstChild)a.removeChild(a.firstChild);this.bottom=this.top=null;(this.desc=c("desc"))[e](f.createTextNode("Created with Rapha\u00ebl"));a[e](this.desc);a[e](this.defs=c("defs"))};p.remove=function(){this.canvas.parentNode&&this.canvas.parentNode.removeChild(this.canvas);for(var a in this)this[a]=Qb(a)}}if(a.vml){var cc={M:"m",L:"l",C:"c",Z:"x",m:"t",l:"r",c:"v",z:"x"},Cc=/([clmz]),?([^clmz]*)/gi,rc=/ progid:\S+Blur\([^\)]+\)/g,Gc=/-?[^,\s-]+/g,V=1e3+u+1e3,S=10,W={path:1,rect:1},Ac=function(c){var i=/[ahqstv]/ig,h=U;j(c).match(i)&&(h=db);i=/[clmz]/g;if(h==U&&!j(c).match(i))return j(c)[y](Cc,function(g,c,f){var a=[],e=P.call(c)=="m",d=cc[c];f[y](Gc,function(f){if(e&&a[b]==2){d+=a+cc[c=="m"?"l":"L"];a=[]}a[n](v(f*S))});return d+a});var k=h(c),l,a;d=[];for(var e=0,o=k[b];e<o;e++){l=k[e];a=P.call(k[e][0]);a=="z"&&(a="x");for(var f=1,m=l[b];f<m;f++)a+=v(l[f]*S)+(f!=m-1?",":g);d[n](a)}return d[w](u)};a[J]=function(){return"Your browser doesn\u2019t support SVG. Falling down to VML.\nYou are running Rapha\u00ebl "+this.version};Sb=function(f,a){var b=z("group");b.style.cssText="position:absolute;left:0;top:0;width:"+a.width+"px;height:"+a.height+"px";b.coordsize=a.coordsize;b.coordorigin=a.coordorigin;var c=z("shape"),i=c.style;i.width=a.width+"px";i.height=a.height+"px";c.coordsize=V;c.coordorigin=a.coordorigin;b[e](c);var d=new m(c,b,a),h={fill:"none",stroke:"#000"};f&&(h.path=f);d.type="path";d.path=[];d.Path=g;N(d,h);a.canvas[e](b);return d};N=function(k,c){k.attrs=k.attrs||{};var l=k.node,i=k.attrs,r=l.style,p,J=(c.x!=i.x||c.y!=i.y||c.width!=i.width||c.height!=i.height||c.r!=i.r)&&k.type=="rect",m=k;for(var C in c)if(c[d](C))i[C]=c[C];if(J){i.path=Nb(i.x,i.y,i.width,i.height,i.r);k.X=i.x;k.Y=i.y;k.W=i.width;k.H=i.height}c.href&&(l.href=c.href);c.title&&(l.title=c.title);c.target&&(l.target=c.target);c.cursor&&(r.cursor=c.cursor);"blur"in c&&k.blur(c.blur);if(c.path&&k.type=="path"||J)l.path=Ac(i.path);c.rotation!=null&&k.rotate(c.rotation,true);if(c.translation){p=j(c.translation)[q](F);fb.call(k,p[0],p[1]);if(k._.rt.cx!=null){k._.rt.cx+=+p[0];k._.rt.cy+=+p[1];k.setBox(k.attrs,p[0],p[1])}}if(c.scale){p=j(c.scale)[q](F);k.scale(+p[0]||1,+p[1]||+p[0]||1,+p[2]||null,+p[3]||null)}if("clip-rect"in c){var t=j(c["clip-rect"])[q](F);if(t[b]==4){t[2]=+t[2]+ +t[0];t[3]=+t[3]+ +t[1];var x=l.clipRect||f.createElement("div"),u=x.style,A=l.parentNode;u.clip=a.format("rect({1}px {2}px {3}px {0}px)",t);if(!l.clipRect){u.position="absolute";u.top=0;u.left=0;u.width=k.paper.width+"px";u.height=k.paper.height+"px";A.parentNode.insertBefore(x,A);x[e](A);l.clipRect=x}}if(!c["clip-rect"])l.clipRect&&(l.clipRect.style.clip=g)}if(k.type=="image"&&c.src)l.src=c.src;if(k.type=="image"&&c.opacity){l.filterOpacity=Bb+".Alpha(opacity="+c.opacity*100+")";r.filter=(l.filterMatrix||g)+(l.filterOpacity||g)}c.font&&(r.font=c.font);c["font-family"]&&(r.fontFamily='"'+c["font-family"][q](",")[0][y](/^['"]+|['"]+$/g,g)+'"');c["font-size"]&&(r.fontSize=c["font-size"]);c["font-weight"]&&(r.fontWeight=c["font-weight"]);c["font-style"]&&(r.fontStyle=c["font-style"]);if(c.opacity!=null||c["stroke-width"]!=null||c.fill!=null||c.stroke!=null||c["stroke-width"]!=null||c["stroke-opacity"]!=null||c["fill-opacity"]!=null||c["stroke-dasharray"]!=null||c["stroke-miterlimit"]!=null||c["stroke-linejoin"]!=null||c["stroke-linecap"]!=null){l=k.shape||l;var o=l.getElementsByTagName(L)&&l.getElementsByTagName(L)[0],H=false;!o&&(H=o=z(L));if("fill-opacity"in c||"opacity"in c){var s=((+i["fill-opacity"]+1||2)-1)*((+i.opacity+1||2)-1)*((+a.getRGB(c.fill).o+1||2)-1);s=I(B(s,0),1);o.opacity=s}c.fill&&(o.on=true);if(o.on==null||c.fill=="none")o.on=false;if(o.on&&c.fill){var K=c.fill.match(ac);if(K){o.src=K[1];o.type="tile"}else{o.color=a.getRGB(c.fill).hex;o.src=g;o.type="solid";if(a.getRGB(c.fill).error&&(m.type in{circle:1,ellipse:1}||j(c.fill).charAt()!="r")&&T(m,c.fill)){i.fill="none";i.gradient=c.fill}}}H&&l[e](o);var n=l.getElementsByTagName("stroke")&&l.getElementsByTagName("stroke")[0],G=false;!n&&(G=n=z("stroke"));if(c.stroke&&c.stroke!="none"||c["stroke-width"]||c["stroke-opacity"]!=null||c["stroke-dasharray"]||c["stroke-miterlimit"]||c["stroke-linejoin"]||c["stroke-linecap"])n.on=true;(c.stroke=="none"||n.on==null||c.stroke==0||c["stroke-width"]==0)&&(n.on=false);var D=a.getRGB(c.stroke);n.on&&c.stroke&&(n.color=D.hex);s=((+i["stroke-opacity"]+1||2)-1)*((+i.opacity+1||2)-1)*((+D.o+1||2)-1);var w=(h(c["stroke-width"])||1)*.75;s=I(B(s,0),1);c["stroke-width"]==null&&(w=i["stroke-width"]);c["stroke-width"]&&(n.weight=w);w&&w<1&&(s*=w)&&(n.weight=1);n.opacity=s;c["stroke-linejoin"]&&(n.joinstyle=c["stroke-linejoin"]||"miter");n.miterlimit=c["stroke-miterlimit"]||8;c["stroke-linecap"]&&(n.endcap=c["stroke-linecap"]=="butt"?"flat":c["stroke-linecap"]=="square"?"square":"round");if(c["stroke-dasharray"]){var E={"-":"shortdash",".":"shortdot","-.":"shortdashdot","-..":"shortdashdotdot",". ":"dot","- ":"dash","--":"longdash","- .":"dashdot","--.":"longdashdot","--..":"longdashdotdot"};n.dashstyle=E[d](c["stroke-dasharray"])?E[c["stroke-dasharray"]]:g}G&&l[e](n)}if(m.type=="text"){r=m.paper.span.style;i.font&&(r.font=i.font);i["font-family"]&&(r.fontFamily=i["font-family"]);i["font-size"]&&(r.fontSize=i["font-size"]);i["font-weight"]&&(r.fontWeight=i["font-weight"]);i["font-style"]&&(r.fontStyle=i["font-style"]);m.node.string&&(m.paper.span.innerHTML=j(m.node.string)[y](/</g,"&#60;")[y](/&/g,"&#38;")[y](/\n/g,"<br>"));m.W=i.w=m.paper.span.offsetWidth;m.H=i.h=m.paper.span.offsetHeight;m.X=i.x;m.Y=i.y+v(m.H/2);switch(i["text-anchor"]){case"start":m.node.style["v-text-align"]="left";m.bbx=v(m.W/2);break;case"end":m.node.style["v-text-align"]="right";m.bbx=-v(m.W/2);break;default:m.node.style["v-text-align"]="center"}}};T=function(d,e){d.attrs=d.attrs||{};var s=d.attrs,a,p="linear",m=".5 .5";d.attrs.gradient=e;e=j(e)[y](Db,function(c,b,a){p="radial";if(b&&a){b=h(b);a=h(a);o(b-.5,2)+o(a-.5,2)>.25&&(a=i.sqrt(.25-o(b-.5,2))*((a>.5)*2-1)+.5);m=b+u+a}return g});e=e[q](/\s*\-\s*/);if(p=="linear"){var k=e.shift();k=-h(k);if(isNaN(k))return null}var c=Lb(e);if(!c)return null;d=d.shape||d.node;a=d.getElementsByTagName(L)[0]||z(L);!a.parentNode&&d.appendChild(a);if(c[b]){a.on=true;a.method="none";a.color=c[0].color;a.color2=c[c[b]-1].color;for(var l=[],f=0,r=c[b];f<r;f++)c[f].offset&&l[n](c[f].offset+u+c[f].color);a.colors&&(a.colors.value=l[b]?l[w]():"0% "+a.color);if(p=="radial"){a.type="gradientradial";a.focus="100%";a.focussize=m;a.focusposition=m}else{a.type="gradient";a.angle=(270-k)%360}}return 1};m=function(c,d,b){var e=0,g=0,h=0,f=1;this[0]=c;this.id=a._oid++;this.node=c;c.raphael=this;this.X=0;this.Y=0;this.attrs={};this.Group=d;this.paper=b;this._={tx:0,ty:0,rt:{deg:0},sx:1,sy:1};!b.bottom&&(b.bottom=this);this.prev=b.top;b.top&&(b.top.next=this);b.top=this;this.next=null};k=m[l];k.rotate=function(a,c,d){if(this.removed)return this;if(a==null)return this._.rt.cx?([this._.rt.deg,this._.rt.cx,this._.rt.cy])[w](u):this._.rt.deg;a=j(a)[q](F);if(a[b]-1){c=h(a[1]);d=h(a[2])}a=h(a[0]);if(c!=null)this._.rt.deg=a;else this._.rt.deg+=a;d==null&&(c=null);this._.rt.cx=c;this._.rt.cy=d;this.setBox(this.attrs,c,d);this.Group.style.rotation=this._.rt.deg;return this};k.setBox=function(m,k,l){if(this.removed)return this;var j=this.Group.style,c=this.shape&&this.shape.style||this.node.style;m=m||{};for(var q in m)if(m[d](q))this.attrs[q]=m[q];k=k||this._.rt.cx;l=l||this._.rt.cy;var b=this.attrs,h,i,f,e;switch(this.type){case"circle":h=b.cx-b.r;i=b.cy-b.r;f=e=b.r*2;break;case"ellipse":h=b.cx-b.rx;i=b.cy-b.ry;f=b.rx*2;e=b.ry*2;break;case"image":h=+b.x;i=+b.y;f=b.width||0;e=b.height||0;break;case"text":this.textpath.v=(["m",v(b.x),", ",v(b.y-2),"l",v(b.x)+1,", ",v(b.y-2)])[w](g);h=b.x-v(this.W/2);i=b.y-this.H/2;f=this.W;e=this.H;break;case"rect":case"path":if(!this.attrs.path){h=0;i=0;f=this.paper.width;e=this.paper.height}else{var p=bb(this.attrs.path);h=p.x;i=p.y;f=p.width;e=p.height}break;default:h=0;i=0;f=this.paper.width;e=this.paper.height}k=k==null?h+f/2:k;l=l==null?i+e/2:l;var n=k-this.paper.width/2,o=l-this.paper.height/2,a;j.left!=(a=n+"px")&&(j.left=a);j.top!=(a=o+"px")&&(j.top=a);this.X=W[d](this.type)?-n:h;this.Y=W[d](this.type)?-o:i;this.W=f;this.H=e;if(W[d](this.type)){c.left!=(a=-n*S+"px")&&(c.left=a);c.top!=(a=-o*S+"px")&&(c.top=a)}else if(this.type=="text"){c.left!=(a=-n+"px")&&(c.left=a);c.top!=(a=-o+"px")&&(c.top=a)}else{j.width!=(a=this.paper.width+"px")&&(j.width=a);j.height!=(a=this.paper.height+"px")&&(j.height=a);c.left!=(a=h-n+"px")&&(c.left=a);c.top!=(a=i-o+"px")&&(c.top=a);c.width!=(a=f+"px")&&(c.width=a);c.height!=(a=e+"px")&&(c.height=a)}};k.hide=function(){!this.removed&&(this.Group.style.display="none");return this};k.show=function(){!this.removed&&(this.Group.style.display="block");return this};k.getBBox=function(){return this.removed?this:W[d](this.type)?bb(this.attrs.path):{x:this.X+(this.bbx||0),y:this.Y,width:this.W,height:this.H}};k.remove=function(){if(this.removed)return;R(this,this.paper);this.node.parentNode.removeChild(this.node);this.Group.parentNode.removeChild(this.Group);this.shape&&this.shape.parentNode.removeChild(this.shape);for(var a in this)delete this[a];this.removed=true};k.attr=function(e,i){if(this.removed)return this;if(e==null){var f={};for(var g in this.attrs)if(this.attrs[d](g))f[g]=this.attrs[g];this._.rt.deg&&(f.rotation=this.rotate());(this._.sx!=1||this._.sy!=1)&&(f.scale=this.scale());f.gradient&&f.fill=="none"&&(f.fill=f.gradient)&&delete f.gradient;return f}if(i==null&&a.is(e,"string"))return e=="translation"?fb.call(this):e=="rotation"?this.rotate():e=="scale"?this.scale():e==L&&this.attrs.fill=="none"&&this.attrs.gradient?this.attrs.gradient:this.attrs[e];if(this.attrs&&i==null&&a.is(e,C)){var n,m={};for(g=0,n=e[b];g<n;g++)m[e[g]]=this.attr(e[g]);return m}var c;if(i!=null){c={};c[e]=i}i==null&&a.is(e,"object")&&(c=e);if(c){for(var h in this.paper.customAttributes)if(this.paper.customAttributes[d](h)&&c[d](h)&&a.is(this.paper.customAttributes[h],"function")){var l=this.paper.customAttributes[h].apply(this,([])[r](c[h]));this.attrs[h]=c[h];for(var k in l)if(l[d](k))c[k]=l[k]}if(c.text&&this.type=="text")this.node.string=c.text;N(this,c);c.gradient&&(({circle:1,ellipse:1})[d](this.type)||j(c.gradient).charAt()!="r")&&T(this,c.gradient);(!W[d](this.type)||this._.rt.deg)&&this.setBox(this.attrs)}return this};k.toFront=function(){!this.removed&&this.Group.parentNode[e](this.Group);this.paper.top!=this&&Vb(this,this.paper);return this};k.toBack=function(){if(this.removed)return this;if(this.Group.parentNode.firstChild!=this.Group){this.Group.parentNode.insertBefore(this.Group,this.Group.parentNode.firstChild);Yb(this,this.paper)}return this};k.insertAfter=function(a){if(this.removed)return this;if(a.constructor==D)a=a[a.length-1];if(a.Group.nextSibling)a.Group.parentNode.insertBefore(this.Group,a.Group.nextSibling);else a.Group.parentNode[e](this.Group);Ib(this,a,this.paper);return this};k.insertBefore=function(a){if(this.removed)return this;if(a.constructor==D)a=a[0];a.Group.parentNode.insertBefore(this.Group,a.Group);Gb(this,a,this.paper);return this};k.blur=function(c){var b=this.node.runtimeStyle,d=b.filter;d=d.replace(rc,g);if(+c!==0){this.attrs.blur=c;b.filter=d+u+Bb+".Blur(pixelradius="+(+c||1.5)+")";b.margin=a.format("-{0}px 0 0 -{0}px",v(+c||1.5))}else{b.filter=d;b.margin=0;delete this.attrs.blur}};Mb=function(c,g,h,d){var b=z("group"),f=z("oval"),i=f.style;b.style.cssText="position:absolute;left:0;top:0;width:"+c.width+"px;height:"+c.height+"px";b.coordsize=V;b.coordorigin=c.coordorigin;b[e](f);var a=new m(f,b,c);a.type="circle";N(a,{stroke:"#000",fill:"none"});a.attrs.cx=g;a.attrs.cy=h;a.attrs.r=d;a.setBox({x:g-d,y:h-d,width:d*2,height:d*2});c.canvas[e](b);return a};function Nb(e,f,c,d,b){return b?a.format("M{0},{1}l{2},0a{3},{3},0,0,1,{3},{3}l0,{5}a{3},{3},0,0,1,{4},{3}l{6},0a{3},{3},0,0,1,{4},{4}l0,{7}a{3},{3},0,0,1,{3},{4}z",e+b,f,c-b*2,b,-b,d-b*2,b*2-c,b*2-d):a.format("M{0},{1}l{2},0,0,{3},{4},0z",e,f,c,d,-c)}Tb=function(i,g,h,f,d,e){var c=Nb(g,h,f,d,e),a=i.path(c),b=a.attrs;a.X=b.x=g;a.Y=b.y=h;a.W=b.width=f;a.H=b.height=d;b.r=e;b.path=c;a.type="rect";return a};Jb=function(c,h,i,d,f){var b=z("group"),g=z("oval"),j=g.style;b.style.cssText="position:absolute;left:0;top:0;width:"+c.width+"px;height:"+c.height+"px";b.coordsize=V;b.coordorigin=c.coordorigin;b[e](g);var a=new m(g,b,c);a.type="ellipse";N(a,{stroke:"#000"});a.attrs.cx=h;a.attrs.cy=i;a.attrs.rx=d;a.attrs.ry=f;a.setBox({x:h-d,y:i-f,width:d*2,height:f*2});c.canvas[e](b);return a};Ob=function(c,f,i,j,h,g){var b=z("group"),d=z("image");b.style.cssText="position:absolute;left:0;top:0;width:"+c.width+"px;height:"+c.height+"px";b.coordsize=V;b.coordorigin=c.coordorigin;d.src=f;b[e](d);var a=new m(d,b,c);a.type="image";a.attrs.src=f;a.attrs.x=i;a.attrs.y=j;a.attrs.w=h;a.attrs.h=g;a.setBox({x:i,y:j,width:h,height:g});c.canvas[e](b);return a};Ub=function(c,i,n,k){var d=z("group"),g=z("shape"),l=g.style,f=z("path"),o=f.style,h=z("textpath");d.style.cssText="position:absolute;left:0;top:0;width:"+c.width+"px;height:"+c.height+"px";d.coordsize=V;d.coordorigin=c.coordorigin;f.v=a.format("m{0},{1}l{2},{1}",v(i*10),v(n*10),v(i*10)+1);f.textpathok=true;l.width=c.width;l.height=c.height;h.string=j(k);h.on=true;g[e](h);g[e](f);d[e](g);var b=new m(h,d,c);b.shape=g;b.textpath=f;b.type="text";b.attrs.text=k;b.attrs.x=i;b.attrs.y=n;b.attrs.w=1;b.attrs.h=1;N(b,{font:ab.font,stroke:"none",fill:"#000"});b.setBox();c.canvas[e](d);return b};Rb=function(b,a){var c=this.canvas.style;b==+b&&(b+="px");a==+a&&(a+="px");c.width=b;c.height=a;c.clip="rect(0 "+b+" "+a+" 0)";return this};var z;f.createStyleSheet().addRule(".rvml","behavior:url(#default#VML)");try{!f.namespaces.rvml&&f.namespaces.add("rvml","urn:schemas-microsoft-com:vml");z=function(a){return f.createElement("<rvml:"+a+' class="rvml">')}}catch(Ic){z=function(a){return f.createElement("<"+a+' xmlns="urn:schemas-microsoft.com:vml" class="rvml">')}}yb=function(){var h=Fb[s](0,arguments),c=h.container,d=h.height,m,g=h.width,k=h.x,l=h.y;if(!c)throw new Error("VML container not found.");var b=new hb,i=b.canvas=f.createElement("div"),j=i.style;k=k||0;l=l||0;g=g||512;d=d||342;g==+g&&(g+="px");d==+d&&(d+="px");b.width=1e3;b.height=1e3;b.coordsize=S*1e3+u+S*1e3;b.coordorigin="0 0";b.span=f.createElement("span");b.span.style.cssText="position:absolute;left:-9999em;top:-9999em;padding:0;margin:0;line-height:1;display:inline;";i[e](b.span);j.cssText=a.format("top:0;left:0;width:{0};height:{1};display:inline-block;position:relative;clip:rect(0 {0} {1} 0);overflow:hidden",g,d);if(c==1){f.body[e](i);j.left=k+"px";j.top=l+"px";j.position="absolute"}else if(c.firstChild)c.insertBefore(i,c.firstChild);else c[e](i);wb.call(b,b,a.fn);return b};p.clear=function(){this.canvas.innerHTML=g;this.span=f.createElement("span");this.span.style.cssText="position:absolute;left:-9999em;top:-9999em;padding:0;margin:0;line-height:1;display:inline;";this.canvas[e](this.span);this.bottom=this.top=null};p.remove=function(){this.canvas.parentNode.removeChild(this.canvas);for(var a in this)this[a]=Qb(a);return true}}var Wb=navigator.userAgent.match(/Version\/(.*?)\s/);if(navigator.vendor=="Apple Computer, Inc."&&(Wb&&Wb[1]<4||navigator.platform.slice(0,2)=="iP"))p.safari=function(){var a=this.rect(-99,-99,this.width+99,this.height+99).attr({stroke:"none"});O.setTimeout(function(){a.remove()})};else p.safari=function(){};for(var jc=function(){this.returnValue=false},nc=function(){return this.originalEvent.preventDefault()},hc=function(){this.cancelBubble=true},uc=function(){return this.originalEvent.stopPropagation()},vc=function(){return f.addEventListener?function(b,a,g,f){var c=rb&&vb[a]?vb[a]:a,e=function(c){if(rb&&vb[d](a))for(var e=0,i=c.targetTouches&&c.targetTouches.length;e<i;e++)if(c.targetTouches[e].target==b){var h=c;c=c.targetTouches[e];c.originalEvent=h;c.preventDefault=nc;c.stopPropagation=uc;break}return g.call(f,c)};b.addEventListener(c,e,false);return function(){b.removeEventListener(c,e,false);return true}}:f.attachEvent?function(b,a,f,e){var c=function(a){a=a||O.event;a.preventDefault=a.preventDefault||jc;a.stopPropagation=a.stopPropagation||hc;return f.call(e,a)};b.attachEvent("on"+a,c);var d=function(){b.detachEvent("on"+a,c);return true};return d}:void 0}(),H=[],ub=function(a){var d=a.clientX,e=a.clientY,j=f.documentElement.scrollTop||f.body.scrollTop,i=f.documentElement.scrollLeft||f.body.scrollLeft,b,h=H.length;while(h--){b=H[h];if(rb){var g=a.touches.length,c;while(g--){c=a.touches[g];if(c.identifier==b.el._drag.id){d=c.clientX;e=c.clientY;(a.originalEvent?a.originalEvent:a).preventDefault();break}}}else a.preventDefault();d+=i;e+=j;b.move&&b.move.call(b.move_scope||b.el,d-b.el._drag.x,e-b.el._drag.y,d,e,a)}},zb=function(d){a.unmousemove(ub).unmouseup(zb);var c=H.length,b;while(c--){b=H[c];b.el._drag={};b.end&&b.end.call(b.end_scope||b.start_scope||b.move_scope||b.el,d)}H=[]},fc=Xb[b];fc--;)(function(c){a[c]=m[l][c]=function(b,d){if(a.is(b,"function")){this.events=this.events||[];this.events.push({name:c,f:b,unbind:vc(this.shape||this.node||f,c,b,d||this)})}return this};a["un"+c]=m[l]["un"+c]=function(e){var a=this.events,d=a[b];while(d--)if(a[d].name==c&&a[d].f==e){a[d].unbind();a.splice(d,1);!a.length&&delete this.events;return this}return this}})(Xb[fc]);k.hover=function(d,c,a,b){return this.mouseover(d,a).mouseout(c,b||a)};k.unhover=function(b,a){return this.unmouseover(b).unmouseout(a)};k.drag=function(g,d,h,c,b,e){this._drag={};this.mousedown(function(i){(i.originalEvent||i).preventDefault();var k=f.documentElement.scrollTop||f.body.scrollTop,j=f.documentElement.scrollLeft||f.body.scrollLeft;this._drag.x=i.clientX+j;this._drag.y=i.clientY+k;this._drag.id=i.identifier;d&&d.call(b||c||this,i.clientX+j,i.clientY+k,i);!H.length&&a.mousemove(ub).mouseup(zb);H.push({el:this,move:g,end:h,move_scope:c,start_scope:b,end_scope:e})});return this};k.undrag=function(c,e,d){var b=H.length;while(b--)H[b].el==this&&H[b].move==c&&H[b].end==d&&H.splice(b++,1);!H.length&&a.unmousemove(ub).unmouseup(zb)};p.circle=function(b,c,a){return Mb(this,b||0,c||0,a||0)};p.rect=function(d,e,c,a,b){return Tb(this,d||0,e||0,c||0,a||0,b||0)};p.ellipse=function(c,d,a,b){return Jb(this,c||0,d||0,a||0,b||0)};p.path=function(b){b&&!a.is(b,Q)&&!a.is(b[0],C)&&(b+=g);return Sb(a.format[s](a,arguments),this)};p.image=function(a,d,e,c,b){return Ob(this,a||"about:blank",d||0,e||0,c||0,b||0)};p.text=function(b,c,a){return Ub(this,b||0,c||0,j(a))};p.set=function(a){arguments[b]>1&&(a=Array[l].splice.call(arguments,0,arguments[b]));return new D(a)};p.setSize=Rb;p.top=p.bottom=null;p.raphael=a;function ec(){return this.x+u+this.y}k.resetScale=function(){if(this.removed)return this;this._.sx=1;this._.sy=1;this.attrs.scale="1 1"};k.scale=function(f,e,k,l){if(this.removed)return this;if(f==null&&e==null)return{x:this._.sx,y:this._.sy,toString:ec};e=e||f;!+e&&(e=f);var y,z,Q,R,a=this.attrs;if(f!=0){var x=this.getBBox(),D=x.x+x.width/2,F=x.y+x.height/2,m=t(f/this._.sx),n=t(e/this._.sy);k=+k||k==0?k:D;l=+l||l==0?l:F;var I=this._.sx>0,J=this._.sy>0,h=~~(f/t(f)),i=~~(e/t(e)),L=m*h,M=n*i,O=this.node.style,s=k+t(D-k)*L*(D>k==I?1:-1),v=l+t(F-l)*M*(F>l==J?1:-1),N=f*h>e*i?n:m;switch(this.type){case"rect":case"image":var C=a.width*m,B=a.height*n;this.attr({height:B,r:a.r*N,width:C,x:s-C/2,y:v-B/2});break;case"circle":case"ellipse":this.attr({rx:a.rx*m,ry:a.ry*n,r:a.r*N,cx:s,cy:v});break;case"text":this.attr({x:s,y:v});break;case"path":for(var j=ob(a.path),K=true,G=I?L:m,H=J?M:n,p=0,P=j[b];p<P;p++){var c=j[p],A=gb.call(c[0]);if(A=="M"&&K)continue;else K=false;if(A=="A"){c[j[p][b]-2]*=G;c[j[p][b]-1]*=H;c[1]*=m;c[2]*=n;c[5]=+(h+i?!!+c[5]:!+c[5])}else if(A=="H")for(var d=1,o=c[b];d<o;d++)c[d]*=G;else if(A=="V")for(d=1,o=c[b];d<o;d++)c[d]*=H;else for(d=1,o=c[b];d<o;d++)c[d]*=d%2?G:H}var q=bb(j);y=s-q.x-q.width/2;z=v-q.y-q.height/2;j[0][1]+=y;j[0][2]+=z;this.attr({path:j})}if(this.type in{text:1,image:1}&&(h!=1||i!=1))if(this.transformations){this.transformations[2]=("scale(")[r](h,",",i,")");this.node[E]("transform",this.transformations[w](u));y=h==-1?-a.x-(C||0):a.x;z=i==-1?-a.y-(B||0):a.y;this.attr({x:y,y:z});a.fx=h-1;a.fy=i-1}else{this.node.filterMatrix=Bb+(".Matrix(M11=")[r](h,", M12=0, M21=0, M22=",i,", Dx=0, Dy=0, sizingmethod='auto expand', filtertype='bilinear')");O.filter=(this.node.filterMatrix||g)+(this.node.filterOpacity||g)}else if(this.transformations){this.transformations[2]=g;this.node[E]("transform",this.transformations[w](u));a.fx=0;a.fy=0}else{this.node.filterMatrix=g;O.filter=(this.node.filterMatrix||g)+(this.node.filterOpacity||g)}a.scale=([f,e,k,l])[w](u);this._.sx=f;this._.sy=e}return this};k.clone=function(){if(this.removed)return null;var a=this.attr();delete a.scale;delete a.translation;return this.paper[this.type]().attr(a)};var qb={},X=function(n,p,h,i,j,k,q,r,e){var l=0,f=100,g=[n,p,h,i,j,k,q,r].join(),b=qb[g],m,c;!b&&(qb[g]=b={data:[]});b.timer&&clearTimeout(b.timer);b.timer=setTimeout(function(){delete qb[g]},2e3);if(e!=null){var s=X(n,p,h,i,j,k,q,r);f=~~s*10}for(var d=0;d<f+1;d++){if(b.data[e]>d)c=b.data[d*f];else{c=a.findDotsAtSegment(n,p,h,i,j,k,q,r,d/f);b.data[d]=c}d&&(l+=o(o(m.x-c.x,2)+o(m.y-c.y,2),.5));if(e!=null&&l>=e)return c;m=c}if(e==null)return l},nb=function(c,b){return function(k,m,o){k=db(k);for(var f,g,d,l,i="",j={},e,h=0,n=0,p=k.length;n<p;n++){d=k[n];if(d[0]=="M"){f=+d[1];g=+d[2]}else{l=X(f,g,d[1],d[2],d[3],d[4],d[5],d[6]);if(h+l>m){if(b&&!j.start){e=X(f,g,d[1],d[2],d[3],d[4],d[5],d[6],m-h);i+=["C",e.start.x,e.start.y,e.m.x,e.m.y,e.x,e.y];if(o)return i;j.start=i;i=(["M",e.x,e.y+"C",e.n.x,e.n.y,e.end.x,e.end.y,d[5],d[6]])[w]();h+=l;f=+d[5];g=+d[6];continue}if(!c&&!b){e=X(f,g,d[1],d[2],d[3],d[4],d[5],d[6],m-h);return{x:e.x,y:e.y,alpha:e.alpha}}}h+=l;f=+d[5];g=+d[6]}i+=d}j.end=i;e=c?h:b?j:a.findDotsAtSegment(f,g,d[1],d[2],d[3],d[4],d[5],d[6],1);e.alpha&&(e={x:e.x,y:e.y,alpha:e.alpha});return e}},Eb=nb(1),Z=nb(),lb=nb(0,1);k.getTotalLength=function(){return this.type!="path"?void 0:this.node.getTotalLength?this.node.getTotalLength():Eb(this.attrs.path)};k.getPointAtLength=function(a){return this.type!="path"?void 0:Z(this.attrs.path,a)};k.getSubpath=function(a,b){if(this.type!="path")return;if(t(this.getTotalLength()-b)<"1e-6")return lb(this.attrs.path,a).end;var c=lb(this.attrs.path,b,1);return a?lb(c,a).end:c};a.easing_formulas={linear:function(a){return a},"<":function(a){return o(a,3)},">":function(a){return o(a-1,3)+1},"<>":function(a){a=a*2;if(a<1)return o(a,3)/2;a-=2;return(o(a,3)+2)/2},backIn:function(a){var b=1.70158;return a*a*((b+1)*a-b)},backOut:function(a){a=a-1;var b=1.70158;return a*a*((b+1)*a+b)+1},elastic:function(a){if(a==0||a==1)return a;var b=.3,c=b/4;return o(2,-10*a)*i.sin((a-c)*2*A/b)+1},bounce:function(a){var d=7.5625,b=2.75,c;if(a<1/b)c=d*a*a;else if(a<2/b){a-=1.5/b;c=d*a*a+.75}else if(a<2.5/b){a-=2.25/b;c=d*a*a+.9375}else{a-=2.625/b;c=d*a*a+.984375}return c}};var G=[],Kb=function(){for(var C=+new Date,r=0;r<G[b];r++){var o=G[r];if(o.stop||o.el.removed)continue;var s=C-o.start,l=o.ms,A=o.easing,i=o.from,e=o.diff,j=o.to,p=o.t,k=o.el,t={},f;if(s<l){var n=A(s/l);for(var c in i)if(i[d](c)){switch(mb[c]){case"along":f=n*l*e[c];j.back&&(f=j.len-f);var m=Z(j[c],f);k.translate(e.sx-e.x||0,e.sy-e.y||0);e.x=m.x;e.y=m.y;k.translate(m.x-e.sx,m.y-e.sy);j.rot&&k.rotate(e.r+m.alpha,m.x,m.y);break;case x:f=+i[c]+n*l*e[c];break;case"colour":f="rgb("+([xb(v(i[c].r+n*l*e[c].r)),xb(v(i[c].g+n*l*e[c].g)),xb(v(i[c].b+n*l*e[c].b))])[w](",")+")";break;case"path":f=[];for(var h=0,D=i[c][b];h<D;h++){f[h]=[i[c][h][0]];for(var q=1,E=i[c][h][b];q<E;q++)f[h][q]=+i[c][h][q]+n*l*e[c][h][q];f[h]=f[h][w](u)}f=f[w](u);break;case"csv":switch(c){case"translation":var y=n*l*e[c][0]-p.x,z=n*l*e[c][1]-p.y;p.x+=y;p.y+=z;f=y+u+z;break;case"rotation":f=+i[c][0]+n*l*e[c][0];i[c][1]&&(f+=","+i[c][1]+","+i[c][2]);break;case"scale":f=([+i[c][0]+n*l*e[c][0],+i[c][1]+n*l*e[c][1],2 in j[c]?j[c][2]:g,3 in j[c]?j[c][3]:g])[w](u);break;case"clip-rect":f=[];h=4;while(h--)f[h]=+i[c][h]+n*l*e[c][h]}break;default:var B=[].concat(i[c]);f=[];h=k.paper.customAttributes[c].length;while(h--)f[h]=+B[h]+n*l*e[c][h]}t[c]=f}k.attr(t);k._run&&k._run.call(k)}else{if(j.along){m=Z(j.along,j.len*!j.back);k.translate(e.sx-(e.x||0)+m.x-e.sx,e.sy-(e.y||0)+m.y-e.sy);j.rot&&k.rotate(e.r+m.alpha,m.x,m.y)}(p.x||p.y)&&k.translate(-p.x,-p.y);j.scale&&(j.scale+=g);k.attr(j);G.splice(r--,1)}}a.svg&&k&&k.paper&&k.paper.safari();G[b]&&setTimeout(Kb)},mc=function(d,b,f,e,c){var g=f-e;b.timeouts.push(setTimeout(function(){a.is(c,"function")&&c.call(b);b.animate(d,g,d.easing)},e))},xb=function(a){return B(I(a,255),0)},fb=function(a,b){if(a==null)return{x:this._.tx,y:this._.ty,toString:ec};this._.tx+=+a;this._.ty+=+b;switch(this.type){case"circle":case"ellipse":this.attr({cx:+a+this.attrs.cx,cy:+b+this.attrs.cy});break;case"rect":case"image":case"text":this.attr({x:+a+this.attrs.x,y:+b+this.attrs.y});break;case"path":var c=ob(this.attrs.path);c[0][1]+=+a;c[0][2]+=+b;this.attr({path:c})}return this};k.animateWith=function(d,b,g,e,c){for(var a=0,f=G.length;a<f;a++)if(G[a].el.id==d.id)b.start=G[a].start;return this.animate(b,g,e,c)};k.animateAlong=Zb();k.animateAlongBack=Zb(1);function Zb(b){return function(c,g,e,f){var d={back:b};a.is(e,"function")?f=e:d.rot=e;c&&c.constructor==m&&(c=c.attrs.path);c&&(d.along=c);return this.animate(d,g,f)}}function gc(o,e,f,l,m,j){var a=3*e,b=3*(l-e)-a,g=1-a-b,c=3*f,h=3*(m-f)-c,n=1-c-h;function d(c){return((g*c+b)*c+a)*c}function k(d,b){var a=i(d,b);return((n*a+h)*a+c)*a}function i(i,l){var e,f,c,h,j,k;for(c=i,k=0;k<8;k++){h=d(c)-i;if(t(h)<l)return c;j=(3*g*c+2*b)*c+a;if(t(j)<1e-6)break;c=c-h/j}e=0;f=1;c=i;if(c<e)return e;if(c>f)return f;while(e<f){h=d(c);if(t(h-i)<l)return c;if(i>h)e=c;else f=c;c=(f-e)/2+e}return c}return k(o,1/(200*j))}k.onAnimation=function(a){this._run=a||0;return this};k.animate=function(l,i,t,s){var k=this;k.timeouts=k.timeouts||[];if(a.is(t,"function")||!t)s=t||null;if(k.removed){s&&s.call(k);return k}var e={},o={},C=false,g={};for(var c in l)if(l[d](c))if(mb[d](c)||k.paper.customAttributes[d](c)){C=true;e[c]=k.attr(c);e[c]==null&&(e[c]=ab[c]);o[c]=l[c];switch(mb[c]){case"along":var A=Eb(l[c]),E=Z(l[c],A*!!l.back),H=k.getBBox();g[c]=A/i;g.tx=H.x;g.ty=H.y;g.sx=E.x;g.sy=E.y;o.rot=l.rot;o.back=l.back;o.len=A;l.rot&&(g.r=h(k.rotate())||0);break;case x:g[c]=(o[c]-e[c])/i;break;case"colour":e[c]=a.getRGB(e[c]);var z=a.getRGB(o[c]);g[c]={r:(z.r-e[c].r)/i,g:(z.g-e[c].g)/i,b:(z.b-e[c].b)/i};break;case"path":var D=db(e[c],o[c]);e[c]=D[0];var I=D[1];g[c]=[];for(var f=0,B=e[c][b];f<B;f++){g[c][f]=[0];for(var v=1,J=e[c][f][b];v<J;v++)g[c][f][v]=(I[f][v]-e[c][f][v])/i}break;case"csv":var m=j(l[c])[q](F),u=j(e[c])[q](F);switch(c){case"translation":e[c]=[0,0];g[c]=[m[0]/i,m[1]/i];break;case"rotation":e[c]=u[1]==m[1]&&u[2]==m[2]?u:[0,m[1],m[2]];g[c]=[(m[0]-e[c][0])/i,0,0];break;case"scale":l[c]=m;e[c]=j(e[c])[q](F);g[c]=[(m[0]-e[c][0])/i,(m[1]-e[c][1])/i,0,0];break;case"clip-rect":e[c]=j(e[c])[q](F);g[c]=[];f=4;while(f--)g[c][f]=(m[f]-e[c][f])/i}o[c]=m;break;default:m=[].concat(l[c]);u=[].concat(e[c]);g[c]=[];f=k.paper.customAttributes[c][b];while(f--)g[c][f]=((m[f]||0)-(u[f]||0))/i}}if(!C){var n=[],y;for(var r in l)if(l[d](r)&&kc.test(r)){c={value:l[r]};r=="from"&&(r=0);r=="to"&&(r=100);c.key=M(r,10);n.push(c)}n.sort(tc);n[0].key&&n.unshift({key:0,value:k.attrs});for(f=0,B=n[b];f<B;f++)mc(n[f].value,k,i/100*n[f].key,i/100*(n[f-1]&&n[f-1].key||0),n[f-1]&&n[f-1].value.callback);y=n[n[b]-1].value.callback;y&&k.timeouts.push(setTimeout(function(){y.call(k)},i))}else{var p=a.easing_formulas[t];if(!p){p=j(t).match(wc);if(p&&p[b]==5){var w=p;p=function(a){return gc(a,+w[1],+w[2],+w[3],+w[4],i)}}else p=function(a){return a}}G.push({start:l.start||+new Date,ms:i,easing:p,from:e,diff:g,to:o,el:k,t:{x:0,y:0}});a.is(s,"function")&&(k._ac=setTimeout(function(){s.call(k)},i));G[b]==1&&setTimeout(Kb)}return this};k.stop=function(){for(var a=0;a<G.length;a++)G[a].el.id==this.id&&G.splice(a--,1);for(a=0,ii=this.timeouts&&this.timeouts.length;a<ii;a++)clearTimeout(this.timeouts[a]);this.timeouts=[];clearTimeout(this._ac);delete this._ac;return this};k.translate=function(a,b){return this.attr({translation:a+" "+b})};k[J]=function(){return"Rapha\u00ebl\u2019s object"};a.ae=G;var D=function(a){this.items=[];this[b]=0;this.type="set";if(a)for(var c=0,d=a[b];c<d;c++)if(a[c]&&(a[c].constructor==m||a[c].constructor==D)){this[this.items[b]]=this.items[this.items[b]]=a[c];this[b]++}};D[l][n]=function(){for(var a,c,d=0,e=arguments[b];d<e;d++){a=arguments[d];if(a&&(a.constructor==m||a.constructor==D)){c=this.items[b];this[c]=this.items[c]=a;this[b]++}}return this};D[l].pop=function(){delete this[this[b]--];return this.items.pop()};for(var Ab in k)if(k[d](Ab))D[l][Ab]=function(a){return function(){for(var c=0,d=this.items[b];c<d;c++)this.items[c][a][s](this.items[c],arguments);return this}}(Ab);D[l].attr=function(c,f){if(c&&a.is(c,C)&&a.is(c[0],"object"))for(var d=0,h=c[b];d<h;d++)this.items[d].attr(c[d]);else for(var e=0,g=this.items[b];e<g;e++)this.items[e].attr(c,f);return this};D[l].animate=function(g,j,c,f){(a.is(c,"function")||!c)&&(f=c||null);var i=this.items[b],d=i,h,k=this,e;f&&(e=function(){!--i&&f.call(k)});c=a.is(c,Q)?c:e;h=this.items[--d].animate(g,j,c,e);while(d--)this.items[d]&&!this.items[d].removed&&this.items[d].animateWith(h,g,j,c,e);return this};D[l].insertAfter=function(c){var a=this.items[b];while(a--)this.items[a].insertAfter(c);return this};D[l].getBBox=function(){for(var c=[],d=[],g=[],e=[],f=this.items[b];f--;){var a=this.items[f].getBBox();c[n](a.x);d[n](a.y);g[n](a.x+a.width);e[n](a.y+a.height)}c=I[s](0,c);d=I[s](0,d);return{x:c,y:d,width:B[s](0,g)-c,height:B[s](0,e)-d}};D[l].clone=function(c){c=new D;for(var a=0,d=this.items[b];a<d;a++)c[n](this.items[a].clone());return c};a.registerFont=function(a){if(!a.face)return a;this.fonts=this.fonts||{};var c={w:a.w,face:{},glyphs:{}},f=a.face["font-family"];for(var g in a.face)if(a.face[d](g))c.face[g]=a.face[g];if(this.fonts[f])this.fonts[f][n](c);else this.fonts[f]=[c];if(!a.svg){c.face["units-per-em"]=M(a.face["units-per-em"],10);for(var e in a.glyphs)if(a.glyphs[d](e)){var b=a.glyphs[e];c.glyphs[e]={w:b.w,k:{},d:b.d&&"M"+b.d[y](/[mlcxtrv]/g,function(a){return({l:"L",c:"C",x:"z",t:"m",r:"l",v:"c"})[a]||"M"})+"z"};if(b.k)for(var h in b.k)if(b[d](h))c.glyphs[e].k[h]=b.k[h]}}return a};p.getFont=function(l,f,j,i){i=i||"normal";j=j||"normal";f=+f||({normal:400,bold:700,lighter:300,bolder:800})[f]||400;if(!a.fonts)return;var e=a.fonts[l];if(!e){var m=new RegExp("(^|\\s)"+l[y](/[^\w\d\s+!~.:_-]/g,g)+"(\\s|$)","i");for(var h in a.fonts)if(a.fonts[d](h))if(m.test(h)){e=a.fonts[h];break}}var c;if(e)for(var k=0,n=e[b];k<n;k++){c=e[k];if(c.face["font-weight"]==f&&(c.face["font-style"]==j||!c.face["font-style"])&&c.face["font-stretch"]==i)break}return c};p.print=function(w,x,r,c,u,i,h){i=i||"middle";h=B(I(h||0,1),-1);var o=this.set(),f=j(r)[q](g),s=0,y=g,k;a.is(c,r)&&(c=this.getFont(c));if(c){k=(u||16)/c.face["units-per-em"];for(var e=c.face.bbox.split(F),t=+e[0],p=+e[1]+(i=="baseline"?e[3]-e[1]+ +c.face.descent:(e[3]-e[1])/2),d=0,v=f[b];d<v;d++){var m=d&&c.glyphs[f[d-1]]||{},l=c.glyphs[f[d]];s+=d?(m.w||c.w)+(m.k&&m.k[f[d]]||0)+c.w*h:0;l&&l.d&&o[n](this.path(l.d).attr({fill:"#000",stroke:"none",translation:[s,0]}))}o.scale(k,k,t,p).translate(w-t,x-p)}return o};a.format=function(c,e){var d=a.is(e,C)?([0])[r](e):arguments;c&&a.is(c,Q)&&d[b]-1&&(c=c[y](zc,function(b,a){return d[++a]==null?g:d[a]}));return c||g};a.ninja=function(){tb.was?O.Raphael=tb.is:delete Raphael;return a};a.el=k;a.st=D[l];tb.was?O.Raphael=a:Raphael=a})();